(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9493d9c"],{"8dd8":function(t,e,s){},ac04:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"access"},[s("Row",[s("Col",{staticStyle:{padding:"0 10px 10px 0"},attrs:{lg:24,xl:8}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-contact"}}),t._v("当前用户 ")],1),s("div",{staticClass:"access-user-con access-current-user-con"},[s("img",{attrs:{src:t.avatorPath,alt:""}}),s("p",[t._v("当前用户本页面拥有按钮权限:")]),s("b",[t._v(t._s(t.permTypes))])])])],1),s("Col",{staticStyle:{padding:"0 10px 10px 0"},attrs:{lg:24,xl:16}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-apps"}}),t._v("当前用户本页面拥有的按钮操作 ")],1),s("div",{staticClass:"access-user-con access-change-access-con"},[s("Col",{staticClass:"buttons",attrs:{span:"4"}},[s("Row",{staticClass:"access-change-access-con-row",attrs:{type:"flex",justify:"center",align:"middle"}},[s("Button",{directives:[{name:"has",rawName:"v-has",value:"add",expression:"'add'"}],attrs:{type:"primary"}},[t._v("添加按钮")]),s("Button",{directives:[{name:"has",rawName:"v-has",value:"edit",expression:"'edit'"}]},[t._v("编辑按钮")]),s("Button",{directives:[{name:"has",rawName:"v-has",value:"delete",expression:"'delete'"}],attrs:{type:"error"}},[t._v("删除按钮")])],1)],1),s("Col",{staticClass:"padding-left-10",attrs:{span:"17"}},[s("Row",{staticClass:"access-change-access-con-row",attrs:{type:"flex",justify:"center",align:"middle"}},[s("p",[t._v(" 您可以通过更换测试用户账号： "),s("code",[t._v("test")]),t._v("或 "),s("code",[t._v("test2")]),t._v(" 密码： "),s("code",[t._v("123456")]),t._v("，然后观察该页面按钮以及部门相关数据权限的变化 "),s("br"),s("br"),t._v("自定义权限标签： "),s("code",[t._v("v-has")]),t._v("，示例： "),s("code",[t._v(t._s(t.example))]),s("br"),s("br"),t._v("说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮 ")])])],1)],1)])],1)],1),s("Row",[s("Col",{staticStyle:{padding:"0 10px 10px 0"},attrs:{lg:24,xl:14}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-grid"}}),t._v("表格中权限判断 ")],1),s("div",{staticClass:"content-table"},[s("Alert",{attrs:{"show-icon":""}},[t._v(" iView Table组件已支持 slot-scope 用法，建议使用该新用法。 以下为Render函数中权限按钮示例 ")]),s("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1)])],1),s("Col",{staticStyle:{padding:"0 10px 10px 0"},attrs:{lg:24,xl:10}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-contacts"}}),t._v("通过当前用户角色显示 ")],1),s("p",{attrs:{slot:"extra"},slot:"extra"},[t._v("无需配置，全局可用")]),s("Row",{staticClass:"content-role"},[s("div",{staticClass:"access-user-roles"},[s("p",[t._v("当前用户拥有角色:")]),s("b",[t._v(t._s(t.roles))])]),s("div",{staticClass:"btns"},[s("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_USER",expression:"'ROLE_USER'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[t._v("添加按钮")]),s("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_TEST",expression:"'ROLE_TEST'"}],attrs:{type:"error"}},[t._v("删除按钮")]),s("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_ADMIN",expression:"'ROLE_ADMIN'"}]},[t._v("编辑按钮")])],1),s("div",{staticClass:"role-demo"},[t._v(" 自定义角色权限标签： "),s("code",[t._v("v-hasRole")]),s("br"),s("br"),t._v("示例： "),s("code",[t._v(t._s(t.exampleRole))])])])],1)],1)],1)],1)},r=[],o=(s("a78e"),{name:"access_index",data:function(){var t=this;return{permTypes:[],roles:[],example:"<Button v-has=\"'add'\">添加按钮</Button>",exampleRole:"<Button v-hasRole=\"'ROLE_ADMIN'\">添加按钮</Button>",columns:[{title:"姓名",key:"name",render:function(t,e){return t("div",[t("Icon",{props:{type:"ios-person"},style:{margin:"0 5px 3px 0"}}),t("strong",e.row.name)])}},{title:"年龄",key:"age"},{title:"地址",key:"address"},{title:"操作",key:"action",width:150,align:"center",render:function(e,s){return t.permTypes.includes("edit")?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},"删除")]):e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},"删除")])}}],data:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park"}]}},computed:{avatorPath:function(){return localStorage.avatorImgPath}},methods:{initMeta:function(){this.$route.meta.permTypes&&(this.permTypes=this.$route.meta.permTypes)}},created:function(){this.initMeta(),this.roles=this.getStore("roles")}}),i=o,n=(s("bff1"),s("2877")),l=Object(n["a"])(i,a,r,!1,null,null,null);e["default"]=l.exports},bff1:function(t,e,s){"use strict";var a=s("8dd8"),r=s.n(a);r.a}}]);